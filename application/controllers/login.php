<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');class Login extends MY_Controller {    function __construct() {        parent::__construct();        $this->_init();    }    private function _init() {        $this->output->set_template('default');        $this->load->model('Admin_Model');        $this->load->library('form_validation');    }    public function admin() {        if($this->session->userdata('logged_hitech_admin_id') != false){            redirect('admin/customers');            exit;        }        $this->form_validation->set_rules('email', 'Email', 'required|trim|xss_clean');        $this->form_validation->set_rules('password', 'Password', 'required|trim|xss_clean');        if ($this->form_validation->run() == FALSE) {            $this->load->view('admin/login/index');        } else {            extract($_POST);            $user_id = $this->Admin_Model->check_login($email, $password);            if (!$user_id) {                $this->session->set_flashdata('login_error', TRUE);                redirect('/login/admin');            } else {                $logindata = array('logged_hitech' => time(), 'logged_hitech_admin_id' => $user_id->sn, 'logged_hitech_adminEmail' => $user_id->email, 'logged_hitech_adminParentSN' => $user_id->parentSN);                $this->session->set_userdata($logindata);                redirect('/admin');            }        }    }    public function index($action = '') {          }    public function player() {        $this->output->unset_template();        if ($this->input->post()) {            // print_r($this->input->post());            $dataArr = array(                'email' => $this->input->post('email'),                'facebookId' => $this->input->post('id')            );            $resultArr = $this->Admin_Model->getCommonTable($dataArr, 'players');            if (empty($resultArr)) {                $dataArr = array(                    'firstname' => $this->input->post('first_name'),                    'lastname' => $this->input->post('last_name'),                    'email' => $this->input->post('email'),                    'facebookId' => $this->input->post('id'),                    'gender' => $this->input->post('gender'),                    'status' => 'Y',                    'parentSN' => '0',                    'createdDate' => date("Y-m-d H:i:s")                );                echo $this->Admin_Model->saveCommonTable($dataArr, 0, 'players');            } else {                $logindata = array('logged_howzapp_player' => time(), 'logged_howzapp_player_sn' => $resultArr[0]['sn'], 'logged_howzapp_playerName' => $resultArr[0]['firstname'] . " " . $resultArr[0]['lastname'], 'logged_howzapp_playerEmail' => $resultArr[0]['email']);              //  print_r($logindata);                $this->session->set_userdata($logindata);                               echo "2";            }            exit;        }    }}